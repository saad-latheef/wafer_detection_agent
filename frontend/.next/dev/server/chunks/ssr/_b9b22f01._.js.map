{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/components/ui/progress.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\n\nimport { cn } from '@/lib/utils'\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,8OAAC,4KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE"}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/components/wafer-detection-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Progress } from \"@/components/ui/progress\"\nimport {\n  Upload,\n  CheckCircle2,\n  Activity,\n  FileText,\n  Cpu,\n  Brain,\n  TrendingUp,\n  AlertTriangle,\n  Package,\n  ChevronLeft,\n  Printer,\n  Download,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\ntype DefectPattern = \"Center\" | \"Donut\" | \"Edge-Loc\" | \"Edge-Ring\" | \"Loc\" | \"Random\" | \"Scratch\" | \"Near-full\" | \"None\"\n\ninterface PatternProbability {\n  pattern: DefectPattern\n  probability: number\n}\n\ninterface AgentResult {\n  name: string\n  model: string\n  topPattern: DefectPattern\n  topProbabilities: PatternProbability[]\n  confidence: number\n  qualityFlag: string | null\n  description: string\n  rootCauses: string[]\n  actionSuggestions: string[]\n  icon: React.ReactNode\n  heatmapUrl?: string\n}\n\n// Updated LotAnalysis interface\ninterface LotAnalysis {\n  lotId: string\n  totalWafers: number\n  defectiveWafers: number\n  yieldRate: number\n  defectDistribution: Array<{\n    name: DefectPattern\n    count: number\n    severity: \"Low\" | \"Medium\" | \"High\"\n  }>\n  systematicIssues: Array<{\n    pattern: string\n    frequency: number\n    trend: string\n    rootCause: string\n  }>\n  recommendations: Array<{\n    priority: \"Critical\" | \"High\" | \"Medium\"\n    action: string\n    estimatedImpact: string\n  }>\n}\n\n// Detailed interfaces for agent data\ninterface IngestionDetails {\n  waferMapShape: number[]\n  tensorShape: number[]\n  nonWaferCount: number\n  normalCount: number\n  defectCount: number\n}\n\ninterface AnalysisDetails {\n  consistencyScore: number\n  issuesFound: string[]\n  recommendation: string\n  majorIssues: Array<{ class: string; probability: number }>\n}\n\ninterface ValidationDetails {\n  attempts: number\n  maxAttempts: number\n  criteriaChecks: Array<{ name: string; passed: boolean }>\n  passed: boolean\n}\n\ninterface TriggerAction {\n  alertSent: boolean\n  recipient: string\n  subject: string\n  severity: string\n  actions: string[]\n}\n\n// New interface for individual wafer analysis\ninterface WaferAnalysis {\n  waferId: string\n  image: string\n  fileName: string\n  detectedPattern: DefectPattern\n  agentResults: AgentResult[]\n  finalVerdict: \"PASS\" | \"FAIL\"\n  confidence: number\n  fullProbabilityDistribution: Record<string, number>\n  explanation: string\n  severity: string\n  // Detailed agent data\n  ingestionDetails?: IngestionDetails\n  analysisDetails?: AnalysisDetails\n  validationDetails?: ValidationDetails\n  triggerAction?: TriggerAction\n  modelUsed?: string\n  deviceUsed?: string\n}\n\n// Default AgentResult interface with properties for ProbabilityResult and Probability\ntype ProbabilityResult = {\n  pattern: DefectPattern\n  probability: number\n}\n\nexport function WaferDetectionDashboard() {\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false)\n  const [uploadedImages, setUploadedImages] = useState<Array<{ id: string; url: string; file?: File; fileName: string }>>([])\n  const [currentWaferId, setCurrentWaferId] = useState<string | null>(null)\n  const [isAnalyzing, setIsAnalyzing] = useState(false)\n  const [waferAnalyses, setWaferAnalyses] = useState<WaferAnalysis[]>([])\n  const [showLotAnalysis, setShowLotAnalysis] = useState(false)\n  const [analysisComplete, setAnalysisComplete] = useState(false)\n  const [fullProbDist, setFullProbDist] = useState<Record<string, number>>({})\n  const [explanation, setExplanation] = useState<string>(\"\")\n\n  // New state for defect grouping and individual view\n  const [selectedDefectFilter, setSelectedDefectFilter] = useState<DefectPattern | \"all\">(\"all\")\n  const [selectedWafer, setSelectedWafer] = useState<WaferAnalysis | null>(null)\n  const [viewMode, setViewMode] = useState<\"summary\" | \"grouped\" | \"individual\">(\"summary\")\n\n  const [agentResults, setAgentResults] = useState<AgentResult[]>([\n    {\n      name: \"CNN Classifier\",\n      model: \"k_cross_CNN (Pattern Detection)\",\n      topPattern: \"None\",\n      topProbabilities: [],\n      confidence: 0,\n      qualityFlag: null,\n      description: \"Awaiting wafer map upload to begin analysis...\",\n      rootCauses: [],\n      actionSuggestions: [],\n      icon: <Cpu className=\"h-5 w-5\" />,\n    },\n    {\n      name: \"Analysis Agent\",\n      model: \"Statistical Analysis Module\",\n      topPattern: \"None\",\n      topProbabilities: [],\n      confidence: 0,\n      qualityFlag: null,\n      description: \"Awaiting wafer map upload to begin analysis...\",\n      rootCauses: [],\n      actionSuggestions: [],\n      icon: <Brain className=\"h-5 w-5\" />,\n    },\n    {\n      name: \"Validation Agent\",\n      model: \"Quality Assurance Module\",\n      topPattern: \"None\",\n      topProbabilities: [],\n      confidence: 0,\n      qualityFlag: null,\n      description: \"Awaiting wafer map upload to begin analysis...\",\n      rootCauses: [],\n      actionSuggestions: [],\n      icon: <FileText className=\"h-5 w-5\" />,\n    },\n  ])\n\n  const [lotAnalysis, setLotAnalysis] = useState<LotAnalysis | null>(null)\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files\n    if (files && files.length > 0) {\n      const newImages: Array<{ id: string; url: string; file?: File; fileName: string }> = []\n\n      Array.from(files).forEach((file, index) => {\n        const reader = new FileReader()\n        reader.onloadend = () => {\n          const waferId = `W-${Math.floor(Math.random() * 10000)}-X${index + 1}`\n          newImages.push({\n            id: waferId,\n            url: reader.result as string,\n            file: file,\n            fileName: file.name,\n          })\n\n          if (newImages.length === files.length) {\n            setUploadedImages((prev) => [...prev, ...newImages])\n            setCurrentWaferId(newImages[0].id)\n          }\n        }\n        reader.readAsDataURL(file)\n      })\n    }\n  }\n\n  // Generate a mock AgentResult\n  const generateAgentResult = (pattern: string, agentIndex: number): AgentResult => {\n    const patterns = [\"None\", \"Edge-Ring\", \"Center\", \"Edge-Loc\", \"Scratch\", \"Random\", \"Donut\", \"Near-full\"]\n    const topProbs: ProbabilityResult[] = patterns\n      .slice(0, 3)\n      .map((p, i) => ({\n        pattern:\n          i === 0\n            ? (pattern as DefectPattern)\n            : (patterns[Math.floor(Math.random() * patterns.length)] as DefectPattern),\n        probability: i === 0 ? Math.random() * 0.3 + 0.65 : Math.random() * 0.25,\n      }))\n      .sort((a, b) => b.probability - a.probability)\n\n    const confidence = topProbs[0].probability * 100\n    const qualityFlag = confidence < 75 ? \"Review Required - Ambiguous\" : null\n\n    const agentNames = [\"ViT Model\", \"Gemini Pro Vision\", \"ChatGPT Vision\"]\n    const models = [\"Custom Vision Transformer\", \"Visual Analysis (GPT-4)\", \"Multimodal Analysis (GPT-4o)\"]\n    const icons = [\n      <Cpu className=\"h-5 w-5\" key={0} />,\n      <Brain className=\"h-5 w-5\" key={1} />,\n      <FileText className=\"h-5 w-5\" key={2} />,\n    ]\n\n    return {\n      name: agentNames[agentIndex],\n      model: models[agentIndex],\n      topPattern: pattern as DefectPattern,\n      topProbabilities: topProbs,\n      confidence,\n      qualityFlag,\n      description:\n        pattern === \"None\"\n          ? \"No significant defect patterns detected. All quality metrics within specification.\"\n          : `Detected ${pattern} defect pattern with ${confidence.toFixed(1)}% confidence.`,\n      rootCauses:\n        pattern !== \"None\" ? [\"Process drift in deposition phase\", \"Contamination from handling equipment\"] : [],\n      actionSuggestions:\n        pattern !== \"None\"\n          ? [\"Immediate lot hold recommended\", \"Escalate to process engineering team\"]\n          : [\"Continue production monitoring\", \"Standard quality gate passage\"],\n      icon: icons[agentIndex],\n    }\n  }\n\n  const runBatchAnalysis = async () => {\n    if (uploadedImages.length === 0) return\n\n    setIsAnalyzing(true)\n    setViewMode(\"summary\")\n    setSelectedWafer(null)\n    const analyses: WaferAnalysis[] = []\n\n    for (const wafer of uploadedImages) {\n      try {\n        // Call real API\n        const formData = new FormData()\n        if (wafer.file) {\n          formData.append('file', wafer.file)\n        }\n\n        const response = await fetch('http://localhost:8000/api/analyze', {\n          method: 'POST',\n          body: formData,\n        })\n\n        if (!response.ok) {\n          throw new Error('API request failed')\n        }\n\n        const data = await response.json()\n\n        // Map API response to AgentResult format with icons\n        const agentResultsWithIcons = data.agentResults.map((agent: AgentResult, idx: number) => ({\n          ...agent,\n          icon: idx === 0 ? <Cpu className=\"h-5 w-5\" key={idx} />\n            : idx === 1 ? <Brain className=\"h-5 w-5\" key={idx} />\n              : <FileText className=\"h-5 w-5\" key={idx} />\n        }))\n\n        // Get detected pattern from first agent result\n        const detectedPattern = data.agentResults[0]?.topPattern || \"None\"\n\n        analyses.push({\n          waferId: data.waferId,\n          image: wafer.url,\n          fileName: data.fileName || wafer.fileName,\n          detectedPattern: detectedPattern as DefectPattern,\n          agentResults: agentResultsWithIcons,\n          finalVerdict: data.finalVerdict as \"PASS\" | \"FAIL\",\n          confidence: data.confidence,\n          fullProbabilityDistribution: data.fullProbabilityDistribution,\n          explanation: data.explanation,\n          severity: data.severity,\n          ingestionDetails: data.ingestionDetails,\n          analysisDetails: data.analysisDetails,\n          validationDetails: data.validationDetails,\n          triggerAction: data.triggerAction,\n          modelUsed: data.modelUsed,\n          deviceUsed: data.deviceUsed,\n        })\n      } catch (error) {\n        console.error('Analysis failed:', error)\n        analyses.push({\n          waferId: wafer.id,\n          image: wafer.url,\n          fileName: wafer.fileName,\n          detectedPattern: \"None\" as DefectPattern,\n          agentResults: [],\n          finalVerdict: \"FAIL\" as const,\n          confidence: 0,\n          fullProbabilityDistribution: {},\n          explanation: \"Analysis failed - please try again\",\n          severity: \"None\",\n        })\n      }\n    }\n\n    setWaferAnalyses(analyses)\n    setIsAnalyzing(false)\n    setShowLotAnalysis(true)\n\n    // Generate lot-level statistics\n    generateLotAnalysis(analyses)\n  }\n\n  const generateLotAnalysis = (analyses: WaferAnalysis[]) => {\n    // Aggregate real defect patterns from actual analyses\n    const patternCounts = new Map<string, number>()\n    analyses.forEach(wafer => {\n      const pattern = wafer.detectedPattern\n      patternCounts.set(pattern, (patternCounts.get(pattern) || 0) + 1)\n    })\n\n    // Convert to defect distribution format\n    const defectDistribution = Array.from(patternCounts.entries())\n      .filter(([name]) => name !== \"None\" && name !== \"none\")\n      .map(([name, count]) => ({\n        name: name as DefectPattern,\n        count,\n        severity: (count > 3 ? \"High\" : count > 1 ? \"Medium\" : \"Low\") as \"High\" | \"Medium\" | \"Low\"\n      }))\n      .sort((a, b) => b.count - a.count)\n\n    const totalDefects = analyses.filter((a) => a.finalVerdict === \"FAIL\").length\n    const passCount = analyses.filter((a) => a.finalVerdict === \"PASS\").length\n\n    // Get top defect patterns for recommendations\n    const topDefects = defectDistribution.slice(0, 2)\n\n    setLotAnalysis({\n      lotId: `LOT-${Math.floor(Math.random() * 1000) + 1}`,\n      totalWafers: analyses.length,\n      defectiveWafers: totalDefects,\n      yieldRate: analyses.length > 0 ? (passCount / analyses.length) * 100 : 0,\n      defectDistribution,\n      systematicIssues: topDefects.map(d => ({\n        pattern: `${d.name} defects detected`,\n        frequency: d.count,\n        trend: d.count > 2 ? \"Increasing\" : \"Stable\",\n        rootCause: `Potential ${d.name.toLowerCase()} pattern issue in processing`,\n      })),\n      recommendations: topDefects.length > 0 ? topDefects.map((d, i) => ({\n        priority: (i === 0 ? \"Critical\" : \"High\") as \"Critical\" | \"High\" | \"Medium\",\n        action: `Investigate ${d.name} defect source - ${d.count} occurrences`,\n        estimatedImpact: `+${Math.min(d.count * 2, 10)}% yield improvement`,\n      })) : [{\n        priority: \"Medium\" as const,\n        action: \"Continue standard monitoring\",\n        estimatedImpact: \"Maintain current yield\",\n      }],\n    })\n  }\n\n  // Generate formatted text report for download\n  const generateReport = (wafer: WaferAnalysis) => {\n    const timestamp = new Date().toLocaleString()\n    const separator = \"═\".repeat(60)\n    const line = \"─\".repeat(60)\n\n    let report = `\n${separator}\n              WAFER DETECTION ANALYSIS REPORT\n${separator}\n\nGenerated: ${timestamp}\nReport ID: ${wafer.waferId}\n\n${line}\n                    WAFER INFORMATION\n${line}\n\nFile Name:        ${wafer.fileName}\nWafer ID:         ${wafer.waferId}\nModel Used:       ${wafer.modelUsed || \"k_cross_CNN.pt\"}\nDevice:           ${wafer.deviceUsed || \"CPU\"}\n\n${line}\n                    ANALYSIS RESULT\n${line}\n\nFinal Verdict:    ${wafer.finalVerdict}\nDetected Pattern: ${wafer.detectedPattern}\nConfidence:       ${wafer.confidence.toFixed(1)}%\nSeverity:         ${wafer.severity}\n\n${line}\n                PROBABILITY DISTRIBUTION\n${line}\n\n`\n    // Add probability distribution\n    Object.entries(wafer.fullProbabilityDistribution)\n      .sort(([, a], [, b]) => b - a)\n      .forEach(([pattern, prob]) => {\n        const bar = \"█\".repeat(Math.floor(prob / 5))\n        const isTop = pattern === wafer.detectedPattern ? \" ← DETECTED\" : \"\"\n        report += `${pattern.padEnd(12)}: ${prob.toFixed(2).padStart(6)}% ${bar}${isTop}\\n`\n      })\n\n    // Add ingestion details\n    if (wafer.ingestionDetails) {\n      report += `\n${line}\n                  INGESTION DETAILS\n${line}\n\nWafer Map Shape:  ${wafer.ingestionDetails.waferMapShape?.join(\" × \")}\nTensor Shape:     ${wafer.ingestionDetails.tensorShape?.join(\" × \")}\nNon-Wafer Pixels: ${wafer.ingestionDetails.nonWaferCount}\nNormal Pixels:    ${wafer.ingestionDetails.normalCount}\nDefect Pixels:    ${wafer.ingestionDetails.defectCount}\n`\n    }\n\n    // Add analysis details\n    if (wafer.analysisDetails) {\n      report += `\n${line}\n                  ANALYSIS DETAILS\n${line}\n\nConsistency Score: ${(wafer.analysisDetails.consistencyScore * 100).toFixed(0)}%\nRecommendation:    ${wafer.analysisDetails.recommendation}\nIssues Found:      ${wafer.analysisDetails.issuesFound?.length || 0}\n`\n    }\n\n    // Add validation details\n    if (wafer.validationDetails) {\n      report += `\n${line}\n                 VALIDATION DETAILS\n${line}\n\nStatus:           ${wafer.validationDetails.passed ? \"PASSED\" : \"FAILED\"}\nAttempts:         ${wafer.validationDetails.attempts}/${wafer.validationDetails.maxAttempts}\n\nCriteria Checks:\n`\n      wafer.validationDetails.criteriaChecks?.forEach(check => {\n        report += `  ${check.passed ? \"✓\" : \"✗\"} ${check.name}\\n`\n      })\n    }\n\n    // Add trigger action\n    if (wafer.triggerAction) {\n      report += `\n${line}\n                   TRIGGER ACTION\n${line}\n\nAlert Sent:       ${wafer.triggerAction.alertSent ? \"YES\" : \"NO\"}\nSeverity:         ${wafer.triggerAction.severity}\n${wafer.triggerAction.alertSent ? `Recipient:        ${wafer.triggerAction.recipient}` : \"\"}\n\nRecommended Actions:\n`\n      wafer.triggerAction.actions?.forEach((action, i) => {\n        report += `  ${i + 1}. ${action}\\n`\n      })\n    }\n\n    // Add agent results\n    report += `\n${line}\n                   AGENT ANALYSIS\n${line}\n\n`\n    wafer.agentResults.forEach(agent => {\n      report += `[${agent.name}] - ${agent.model}\n  Pattern: ${agent.topPattern} (${agent.confidence.toFixed(1)}% confidence)\n  ${agent.description}\n`\n      if (agent.rootCauses.length > 0) {\n        report += `  Root Causes:\\n`\n        agent.rootCauses.forEach(cause => {\n          report += `    • ${cause}\\n`\n        })\n      }\n      if (agent.actionSuggestions.length > 0) {\n        report += `  Suggested Actions:\\n`\n        agent.actionSuggestions.forEach(action => {\n          report += `    • ${action}\\n`\n        })\n      }\n      report += \"\\n\"\n    })\n\n    // Add full explanation\n    if (wafer.explanation) {\n      report += `\n${line}\n                 DETAILED EXPLANATION\n${line}\n\n${wafer.explanation}\n`\n    }\n\n    report += `\n${separator}\n                    END OF REPORT\n${separator}\n`\n\n    // Download the report\n    const blob = new Blob([report], { type: \"text/plain\" })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement(\"a\")\n    a.href = url\n    a.download = `wafer-report-${wafer.waferId}-${Date.now()}.txt`\n    document.body.appendChild(a)\n    a.click()\n    document.body.removeChild(a)\n    URL.revokeObjectURL(url)\n  }\n\n  const runAnalysis = async () => {\n    if (uploadedImages.length === 0) return\n    // This function is now superseded by runBatchAnalysis for multiple wafers.\n    // It can be kept for single-file upload scenarios if needed, but for now, we'll focus on batch.\n    setIsAnalyzing(true)\n    setAnalysisComplete(false) // Assuming this state might be needed elsewhere or for consistency.\n\n    const mockResults: AgentResult[] = [\n      {\n        name: \"ViT Model\",\n        model: \"Custom Vision Transformer\",\n        topPattern: \"Edge-Ring\",\n        topProbabilities: [\n          { pattern: \"Edge-Ring\", probability: 92.3 },\n          { pattern: \"Edge-Loc\", probability: 5.2 },\n          { pattern: \"Random\", probability: 2.1 },\n        ],\n        confidence: 92.3,\n        qualityFlag: null,\n        description:\n          \"Predicted pattern: Edge-Ring (92.3% confidence). This usually indicates issues in edge bead removal, spin coating, or edge-related process non-uniformity.\",\n        rootCauses: [\n          \"Edge bead removal (EBR) process deviation\",\n          \"Spin coating non-uniformity at wafer periphery\",\n          \"Chamber edge heating inconsistency\",\n        ],\n        actionSuggestions: [\n          \"Check EBR tool calibration and nozzle positioning\",\n          \"Verify spin coating recipe parameters\",\n          \"Inspect edge exclusion zone settings\",\n        ],\n        icon: <Cpu className=\"h-5 w-5\" />,\n        heatmapUrl: \"/wafer-edge-ring-defect-heatmap.jpg\",\n      },\n      {\n        name: \"Gemini Pro Vision\",\n        model: \"Visual Analysis (GPT-4)\",\n        topPattern: \"Edge-Ring\",\n        topProbabilities: [\n          { pattern: \"Edge-Ring\", probability: 88.7 },\n          { pattern: \"Edge-Loc\", probability: 7.8 },\n          { pattern: \"None\", probability: 2.5 },\n        ],\n        confidence: 88.7,\n        qualityFlag: null,\n        description:\n          \"Predicted pattern: Edge-Ring (88.7% confidence). Visual analysis confirms peripheral defect concentration consistent with edge-related processing issues.\",\n        rootCauses: [\"Photoresist edge accumulation\", \"Plasma etching edge effects\", \"Wafer handling edge damage\"],\n        actionSuggestions: [\n          \"Review photoresist dispense and edge coverage\",\n          \"Analyze plasma uniformity across wafer\",\n          \"Inspect robotic handler edge contact points\",\n        ],\n        icon: <Brain className=\"h-5 w-5\" />,\n      },\n      {\n        name: \"ChatGPT Vision\",\n        model: \"Multimodal Analysis (GPT-4o)\",\n        topPattern: \"Center\",\n        topProbabilities: [\n          { pattern: \"Center\", probability: 78.4 },\n          { pattern: \"Edge-Ring\", probability: 15.2 },\n          { pattern: \"Random\", probability: 4.1 },\n        ],\n        confidence: 78.4,\n        qualityFlag: \"⚠️ Mixed pattern detected - confidence spread across multiple classes\",\n        description:\n          \"Predicted pattern: Center (78.4% confidence). However, significant secondary probability for Edge-Ring suggests possible mixed defect types or transitional pattern.\",\n        rootCauses: [\n          \"Focus or exposure center bias\",\n          \"Chuck temperature center gradient\",\n          \"Gas flow distribution center concentration\",\n        ],\n        actionSuggestions: [\n          \"Verify stepper focus calibration\",\n          \"Check chuck thermal uniformity\",\n          \"Analyze process gas flow patterns\",\n        ],\n        icon: <FileText className=\"h-5 w-5\" />,\n      },\n    ]\n\n    const mockLotAnalysis: LotAnalysis = {\n      lotId: \"LOT-2024-A127\",\n      totalWafers: 25,\n      defectiveWafers: 10,\n      yieldRate: 76.0,\n      defectDistribution: [\n        { name: \"Edge-Ring\", count: 10, severity: \"High\" },\n        { name: \"Center\", count: 4, severity: \"Medium\" },\n        { name: \"Random\", count: 3, severity: \"Low\" },\n        { name: \"Edge-Loc\", count: 2, severity: \"Medium\" },\n        { name: \"None\", count: 6, severity: \"Low\" },\n      ],\n      systematicIssues: [\n        {\n          pattern: \"Edge-Ring clustering in Lot 2394\",\n          frequency: 12,\n          trend: \"Increasing\",\n          rootCause: \"Possible edge bead removal (EBR) process drift\",\n        },\n        {\n          pattern: \"Center defects on East chamber\",\n          frequency: 8,\n          trend: \"Stable\",\n          rootCause: \"Wafer chuck temperature uniformity issue\",\n        },\n      ],\n      recommendations: [\n        {\n          priority: \"Critical\",\n          action: \"Recalibrate EBR module - Edge defects increasing\",\n          estimatedImpact: \"+8% yield improvement\",\n        },\n        {\n          priority: \"High\",\n          action: \"PM check on East chamber chuck heater\",\n          estimatedImpact: \"+3% yield improvement\",\n        },\n        {\n          priority: \"Medium\",\n          action: \"Review photoresist coating parameters\",\n          estimatedImpact: \"+2% defect reduction\",\n        },\n      ],\n    }\n\n    // Simulate staggered analysis completion\n    for (let i = 0; i < mockResults.length; i++) {\n      await new Promise((resolve) => setTimeout(resolve, 1200 + Math.random() * 800))\n      setAgentResults((prev) => {\n        const newResults = [...prev]\n        newResults[i] = mockResults[i]\n        return newResults\n      })\n    }\n\n    setLotAnalysis(mockLotAnalysis)\n    setIsAnalyzing(false)\n    setAnalysisComplete(true)\n  }\n\n  const getFinalVerdict = () => {\n    if (!analysisComplete) return null\n\n    const patternCounts = new Map<DefectPattern, number>()\n    agentResults.forEach((agent) => {\n      const count = patternCounts.get(agent.topPattern) || 0\n      patternCounts.set(agent.topPattern, count + 1)\n    })\n\n    let maxCount = 0\n    let consensusPattern: DefectPattern = \"None\"\n    patternCounts.forEach((count, pattern) => {\n      if (count > maxCount) {\n        maxCount = count\n        consensusPattern = pattern\n      }\n    })\n\n    const avgConfidence = agentResults.reduce((sum, a) => sum + a.confidence, 0) / agentResults.length\n    const hasDefect = consensusPattern !== \"None\"\n\n    return {\n      pattern: consensusPattern,\n      confidence: avgConfidence,\n      hasDefect,\n      riskLevel: hasDefect && avgConfidence > 85 ? \"High\" : hasDefect ? \"Medium\" : \"Low\",\n    }\n  }\n\n  const verdict = getFinalVerdict()\n  const getPatternColor = (pattern: DefectPattern) => {\n    const colors: Record<DefectPattern, string> = {\n      Center: \"text-chart-2\",\n      Donut: \"text-chart-3\",\n      \"Edge-Loc\": \"text-destructive\",\n      \"Edge-Ring\": \"text-accent\",\n      Loc: \"text-chart-5\",\n      Random: \"text-muted-foreground\",\n      Scratch: \"text-chart-1\",\n      \"Near-full\": \"text-destructive\",\n      None: \"text-chart-4\",\n    }\n    return colors[pattern] || \"text-foreground\"\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-background\">\n      {/* Sidebar */}\n      <aside\n        className={cn(\n          \"fixed left-0 top-0 h-screen border-r border-border bg-sidebar transition-all duration-300 z-10\",\n          sidebarCollapsed ? \"w-16\" : \"w-64\",\n        )}\n      >\n        <div className=\"flex flex-col h-full p-6\">\n          <div className=\"mb-8\">\n            <div className={cn(\"flex items-center mb-2\", sidebarCollapsed ? \"justify-center\" : \"gap-3\")}>\n              <div className=\"h-10 w-10 rounded-lg bg-primary flex items-center justify-center shrink-0\">\n                <Activity className=\"h-6 w-6 text-primary-foreground\" />\n              </div>\n              {!sidebarCollapsed && (\n                <div>\n                  <h1 className=\"text-lg font-bold text-sidebar-foreground\">WaferDetect</h1>\n                  <p className=\"text-xs text-sidebar-foreground/60\">v24.1 Enterprise</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <nav className=\"space-y-2\">\n            <Button\n              variant=\"secondary\"\n              className={cn(\"w-full\", sidebarCollapsed ? \"justify-center px-0\" : \"justify-start\")}\n            >\n              <Activity className={cn(\"h-4 w-4\", !sidebarCollapsed && \"mr-2\")} />\n              {!sidebarCollapsed && \"Dashboard\"}\n            </Button>\n            <Button\n              variant=\"ghost\"\n              className={cn(\n                \"w-full text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent\",\n                sidebarCollapsed ? \"justify-center px-0\" : \"justify-start\",\n              )}\n            >\n              <FileText className={cn(\"h-4 w-4\", !sidebarCollapsed && \"mr-2\")} />\n              {!sidebarCollapsed && \"Scan History\"}\n            </Button>\n            <Button\n              variant=\"ghost\"\n              className={cn(\n                \"w-full text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent\",\n                sidebarCollapsed ? \"justify-center px-0\" : \"justify-start\",\n              )}\n            >\n              <Cpu className={cn(\"h-4 w-4\", !sidebarCollapsed && \"mr-2\")} />\n              {!sidebarCollapsed && \"Model Config\"}\n            </Button>\n          </nav>\n\n          <div className=\"mt-auto pt-8\">\n            {!sidebarCollapsed && (\n              <>\n                <div className=\"flex items-center gap-2 text-sm\">\n                  <div className=\"h-2 w-2 rounded-full bg-chart-4 animate-pulse\" />\n                  <span className=\"text-sidebar-foreground/80\">System Operational</span>\n                </div>\n                <p className=\"text-xs text-sidebar-foreground/60 mt-1\">All agents online</p>\n              </>\n            )}\n            {sidebarCollapsed && (\n              <div className=\"flex justify-center\">\n                <div className=\"h-2 w-2 rounded-full bg-chart-4 animate-pulse\" />\n              </div>\n            )}\n          </div>\n        </div>\n\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"absolute -right-3 top-6 h-6 w-6 rounded-full border border-border bg-background shadow-sm hover:bg-accent\"\n          onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n        >\n          <ChevronLeft className={cn(\"h-4 w-4 transition-transform duration-300\", sidebarCollapsed && \"rotate-180\")} />\n        </Button>\n      </aside>\n\n      {/* Main Content */}\n      <main\n        className={cn(\"flex-1 p-8 overflow-auto transition-all duration-300\", sidebarCollapsed ? \"ml-16\" : \"ml-64\")}\n      >\n        {/* Hero Section */}\n        <div className=\"mb-8 rounded-xl bg-gradient-to-r from-card to-secondary p-8 border border-border\">\n          <Badge className=\"mb-4 bg-primary/20 text-primary border-primary/30\">\n            <Activity className=\"mr-1 h-3 w-3\" />\n            LIVE MONITORING\n          </Badge>\n          <h2 className=\"text-4xl font-bold mb-2 text-balance\">Fault Detection Dashboard</h2>\n          <p className=\"text-muted-foreground text-lg\">\n            Real-time analysis of silicon wafer integrity using multi-agent AI consensus.\n          </p>\n        </div>\n\n        {/* Data Ingestion */}\n        <Card className=\"mb-8\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center justify-between\">\n              <span>Data Ingestion</span>\n              <span className=\"text-sm font-normal text-muted-foreground\">Supported formats: NPY (wafer maps)</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid lg:grid-cols-2 gap-6\">\n              {/* Upload Area */}\n              <div className=\"flex flex-col gap-4\">\n                <div className=\"relative\">\n                  <input\n                    type=\"file\"\n                    accept=\".npy\"\n                    multiple\n                    onChange={handleFileUpload}\n                    className=\"hidden\"\n                    id=\"file-upload\"\n                  />\n                  <label htmlFor=\"file-upload\">\n                    <div className=\"cursor-pointer border-2 border-dashed border-border rounded-lg p-8 hover:border-primary transition-colors flex flex-col items-center justify-center min-h-[300px] bg-secondary/30\">\n                      {uploadedImages.length > 0 ? (\n                        <div className=\"w-full\">\n                          <div className=\"grid grid-cols-3 gap-2 mb-4\">\n                            {uploadedImages.slice(0, 6).map((wafer) => (\n                              <div key={wafer.id} className=\"relative group\">\n                                <img\n                                  src={wafer.url || \"/placeholder.svg\"}\n                                  alt={wafer.id}\n                                  className=\"rounded-lg w-full h-24 object-cover border-2 border-border group-hover:border-primary transition-colors\"\n                                />\n                                <div className=\"absolute bottom-1 left-1 bg-card/90 backdrop-blur px-2 py-0.5 rounded text-[10px] font-mono\">\n                                  {wafer.id}\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                          {uploadedImages.length > 6 && (\n                            <p className=\"text-center text-sm text-muted-foreground\">\n                              +{uploadedImages.length - 6} more wafers\n                            </p>\n                          )}\n                        </div>\n                      ) : (\n                        <>\n                          <Upload className=\"h-12 w-12 text-muted-foreground mb-4\" />\n                          <p className=\"text-sm text-center text-muted-foreground\">\n                            Drop wafer scans here or click to browse\n                          </p>\n                          <p className=\"text-xs text-center text-muted-foreground mt-2\">\n                            Select multiple files for batch analysis\n                          </p>\n                        </>\n                      )}\n                    </div>\n                  </label>\n                </div>\n              </div>\n\n              {/* Upload Info */}\n              <div className=\"flex flex-col gap-4\">\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-2\">Upload Wafer Maps</h3>\n                  <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                    Drag & drop wafer maps (.npy files) here to begin analysis with our CNN model pipeline.\n                  </p>\n                </div>\n\n                <div className=\"flex gap-3\">\n                  <Button\n                    onClick={runBatchAnalysis}\n                    disabled={uploadedImages.length === 0 || isAnalyzing}\n                    className=\"bg-accent text-accent-foreground hover:bg-accent/90\"\n                  >\n                    <Activity className=\"mr-2 h-4 w-4\" />\n                    {isAnalyzing\n                      ? \"Analyzing...\"\n                      : `Analyze ${uploadedImages.length} Wafer${uploadedImages.length !== 1 ? \"s\" : \"\"}`}\n                  </Button>\n                  <Button variant=\"outline\" asChild>\n                    <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                      <Upload className=\"mr-2 h-4 w-4\" />\n                      Add More Files\n                    </label>\n                  </Button>\n                </div>\n\n                {uploadedImages.length > 0 && (\n                  <div className=\"mt-4 p-4 bg-secondary/50 rounded-lg border border-border\">\n                    <p className=\"text-xs text-muted-foreground mb-2\">Batch Details</p>\n                    <div className=\"space-y-1 text-sm\">\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Total Wafers:</span>\n                        <span className=\"font-mono\">{uploadedImages.length}</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Format:</span>\n                        <span className=\"font-mono\">PNG</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Status:</span>\n                        <span className={cn(isAnalyzing && \"animate-pulse\")}>\n                          {isAnalyzing ? \"Processing...\" : waferAnalyses.length > 0 ? \"Complete\" : \"Ready\"}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {waferAnalyses.length > 0 && (\n          <>\n            {/* View Mode Selector */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-2xl font-bold\">Analysis Results</h3>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant={viewMode === \"summary\" ? \"default\" : \"outline\"}\n                  onClick={() => { setViewMode(\"summary\"); setSelectedWafer(null); }}\n                  size=\"sm\"\n                >\n                  Summary\n                </Button>\n                <Button\n                  variant={viewMode === \"grouped\" ? \"default\" : \"outline\"}\n                  onClick={() => { setViewMode(\"grouped\"); setSelectedWafer(null); }}\n                  size=\"sm\"\n                >\n                  By Defect Type\n                </Button>\n              </div>\n            </div>\n\n            {/* Summary View */}\n            {viewMode === \"summary\" && !selectedWafer && (\n              <div className=\"grid md:grid-cols-4 gap-4 mb-8\">\n                <Card className=\"cursor-pointer hover:border-primary transition-colors\" onClick={() => setViewMode(\"grouped\")}>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Package className=\"h-8 w-8 text-primary\" />\n                      <span className=\"text-3xl font-bold\">{waferAnalyses.length}</span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">Total Wafers</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <CheckCircle2 className=\"h-8 w-8 text-green-400\" />\n                      <span className=\"text-3xl font-bold text-green-400\">\n                        {waferAnalyses.filter(w => w.finalVerdict === \"PASS\").length}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">Passed</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <AlertTriangle className=\"h-8 w-8 text-red-400\" />\n                      <span className=\"text-3xl font-bold text-red-400\">\n                        {waferAnalyses.filter(w => w.finalVerdict === \"FAIL\").length}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">Defective</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <TrendingUp className=\"h-8 w-8 text-accent\" />\n                      <span className=\"text-3xl font-bold\">\n                        {((waferAnalyses.filter(w => w.finalVerdict === \"PASS\").length / waferAnalyses.length) * 100).toFixed(1)}%\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">Yield Rate</p>\n                  </CardContent>\n                </Card>\n              </div>\n            )}\n\n            {/* Grouped by Defect Type View */}\n            {viewMode === \"grouped\" && !selectedWafer && (\n              <div className=\"space-y-6 mb-8\">\n                {/* Defect Type Filter Buttons */}\n                <div className=\"flex flex-wrap gap-2 mb-4\">\n                  <Button\n                    variant={selectedDefectFilter === \"all\" ? \"default\" : \"outline\"}\n                    onClick={() => setSelectedDefectFilter(\"all\")}\n                    size=\"sm\"\n                  >\n                    All ({waferAnalyses.length})\n                  </Button>\n                  {Array.from(new Set(waferAnalyses.map(w => w.detectedPattern))).map(pattern => (\n                    <Button\n                      key={pattern}\n                      variant={selectedDefectFilter === pattern ? \"default\" : \"outline\"}\n                      onClick={() => setSelectedDefectFilter(pattern)}\n                      size=\"sm\"\n                      className={cn(\n                        pattern === \"None\" ? \"border-green-500/50\" : \"border-red-500/50\"\n                      )}\n                    >\n                      {pattern} ({waferAnalyses.filter(w => w.detectedPattern === pattern).length})\n                    </Button>\n                  ))}\n                </div>\n\n                {/* Wafer Grid */}\n                <div className=\"grid md:grid-cols-4 lg:grid-cols-6 gap-4\">\n                  {waferAnalyses\n                    .filter(w => selectedDefectFilter === \"all\" || w.detectedPattern === selectedDefectFilter)\n                    .map(wafer => (\n                      <Card\n                        key={wafer.waferId}\n                        className=\"cursor-pointer hover:border-primary transition-colors\"\n                        onClick={() => { setSelectedWafer(wafer); setViewMode(\"individual\"); }}\n                      >\n                        <CardContent className=\"pt-4\">\n                          <div className=\"text-center\">\n                            <div className=\"w-16 h-16 mx-auto mb-2 rounded-full bg-secondary flex items-center justify-center\">\n                              <span className=\"text-2xl\">💿</span>\n                            </div>\n                            <p className=\"font-mono text-xs mb-1\">{wafer.fileName}</p>\n                            <Badge\n                              className={cn(\n                                wafer.finalVerdict === \"PASS\"\n                                  ? \"bg-green-500/20 text-green-400\"\n                                  : \"bg-red-500/20 text-red-400\"\n                              )}\n                            >\n                              {wafer.detectedPattern}\n                            </Badge>\n                            <p className=\"text-xs text-muted-foreground mt-1\">\n                              {wafer.confidence.toFixed(1)}% conf\n                            </p>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                </div>\n              </div>\n            )}\n\n            {/* Individual Wafer View */}\n            {selectedWafer && (\n              <div className=\"space-y-6 mb-8\">\n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => { setSelectedWafer(null); setViewMode(\"grouped\"); }}\n                  >\n                    <ChevronLeft className=\"mr-2 h-4 w-4\" />\n                    Back to All Wafers\n                  </Button>\n                  <Button\n                    variant=\"default\"\n                    onClick={() => generateReport(selectedWafer)}\n                  >\n                    <Download className=\"mr-2 h-4 w-4\" />\n                    Download Report\n                  </Button>\n                </div>\n\n                <Card className=\"border-2\">\n                  <CardHeader>\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <CardTitle className=\"text-2xl font-mono\">{selectedWafer.fileName}</CardTitle>\n                        <CardDescription>ID: {selectedWafer.waferId} | Model: {selectedWafer.modelUsed || \"k_cross_CNN.pt\"} | Device: {selectedWafer.deviceUsed || \"cpu\"}</CardDescription>\n                      </div>\n                      <div className=\"flex items-center gap-4\">\n                        <Badge className={cn(\n                          selectedWafer.severity === \"High\" ? \"bg-red-500/20 text-red-400\" :\n                            selectedWafer.severity === \"Medium\" ? \"bg-yellow-500/20 text-yellow-400\" :\n                              \"bg-green-500/20 text-green-400\"\n                        )}>\n                          {selectedWafer.severity} Severity\n                        </Badge>\n                        <div\n                          className={cn(\n                            \"px-6 py-3 rounded-lg font-bold text-lg\",\n                            selectedWafer.finalVerdict === \"PASS\"\n                              ? \"bg-green-500/20 text-green-400 border-2 border-green-500/50\"\n                              : \"bg-red-500/20 text-red-400 border-2 border-red-500/50\"\n                          )}\n                        >\n                          {selectedWafer.finalVerdict}\n                        </div>\n                      </div>\n                    </div>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n\n                    {/* Pipeline Steps Overview */}\n                    <div className=\"grid md:grid-cols-4 gap-4\">\n                      {/* Ingestion Card */}\n                      <Card className=\"bg-secondary/20\">\n                        <CardHeader className=\"pb-2\">\n                          <CardTitle className=\"text-sm flex items-center gap-2\">\n                            <Upload className=\"h-4 w-4\" />\n                            Ingestion Agent\n                          </CardTitle>\n                        </CardHeader>\n                        <CardContent className=\"text-xs space-y-1\">\n                          {selectedWafer.ingestionDetails ? (\n                            <>\n                              <p>📐 Shape: {selectedWafer.ingestionDetails.waferMapShape?.join('×')}</p>\n                              <p>📊 Tensor: {selectedWafer.ingestionDetails.tensorShape?.join('×')}</p>\n                              <p className=\"text-muted-foreground\">Non-wafer: {selectedWafer.ingestionDetails.nonWaferCount}</p>\n                              <p className=\"text-green-400\">Normal: {selectedWafer.ingestionDetails.normalCount}</p>\n                              <p className=\"text-red-400\">Defect: {selectedWafer.ingestionDetails.defectCount}</p>\n                            </>\n                          ) : (\n                            <p className=\"text-muted-foreground\">Loading...</p>\n                          )}\n                        </CardContent>\n                      </Card>\n\n                      {/* Analysis Card */}\n                      <Card className=\"bg-secondary/20\">\n                        <CardHeader className=\"pb-2\">\n                          <CardTitle className=\"text-sm flex items-center gap-2\">\n                            <Brain className=\"h-4 w-4\" />\n                            Analysis Agent\n                          </CardTitle>\n                        </CardHeader>\n                        <CardContent className=\"text-xs space-y-1\">\n                          {selectedWafer.analysisDetails ? (\n                            <>\n                              <p>🎯 Consistency: {(selectedWafer.analysisDetails.consistencyScore * 100).toFixed(0)}%</p>\n                              <p className={selectedWafer.analysisDetails.recommendation === \"PASS\" ? \"text-green-400\" : \"text-yellow-400\"}>\n                                📋 {selectedWafer.analysisDetails.recommendation}\n                              </p>\n                              <p className=\"text-muted-foreground\">\n                                Issues: {selectedWafer.analysisDetails.issuesFound?.length || 0}\n                              </p>\n                            </>\n                          ) : (\n                            <p className=\"text-muted-foreground\">Loading...</p>\n                          )}\n                        </CardContent>\n                      </Card>\n\n                      {/* Validation Card */}\n                      <Card className=\"bg-secondary/20\">\n                        <CardHeader className=\"pb-2\">\n                          <CardTitle className=\"text-sm flex items-center gap-2\">\n                            <CheckCircle2 className=\"h-4 w-4\" />\n                            Validation Agent\n                          </CardTitle>\n                        </CardHeader>\n                        <CardContent className=\"text-xs space-y-1\">\n                          {selectedWafer.validationDetails ? (\n                            <>\n                              <p className={selectedWafer.validationDetails.passed ? \"text-green-400\" : \"text-red-400\"}>\n                                {selectedWafer.validationDetails.passed ? \"✅ PASSED\" : \"❌ FAILED\"}\n                              </p>\n                              <p>Attempt: {selectedWafer.validationDetails.attempts}/{selectedWafer.validationDetails.maxAttempts}</p>\n                              {selectedWafer.validationDetails.criteriaChecks?.map((check, i) => (\n                                <p key={i} className={check.passed ? \"text-green-400\" : \"text-red-400\"}>\n                                  {check.passed ? \"✓\" : \"✗\"} {check.name}\n                                </p>\n                              ))}\n                            </>\n                          ) : (\n                            <p className=\"text-muted-foreground\">Loading...</p>\n                          )}\n                        </CardContent>\n                      </Card>\n\n                      {/* Trigger Card */}\n                      <Card className=\"bg-secondary/20\">\n                        <CardHeader className=\"pb-2\">\n                          <CardTitle className=\"text-sm flex items-center gap-2\">\n                            <AlertTriangle className=\"h-4 w-4\" />\n                            Trigger Agent\n                          </CardTitle>\n                        </CardHeader>\n                        <CardContent className=\"text-xs space-y-1\">\n                          {selectedWafer.triggerAction ? (\n                            <>\n                              <p className={selectedWafer.triggerAction.alertSent ? \"text-red-400\" : \"text-green-400\"}>\n                                {selectedWafer.triggerAction.alertSent ? \"🚨 ALERT SENT\" : \"✅ No Alert\"}\n                              </p>\n                              {selectedWafer.triggerAction.alertSent && (\n                                <>\n                                  <p className=\"text-muted-foreground truncate\" title={selectedWafer.triggerAction.recipient}>\n                                    📧 {selectedWafer.triggerAction.recipient}\n                                  </p>\n                                  {selectedWafer.triggerAction.actions?.slice(0, 2).map((action, i) => (\n                                    <p key={i} className=\"text-yellow-400\">► {action}</p>\n                                  ))}\n                                </>\n                              )}\n                            </>\n                          ) : (\n                            <p className=\"text-muted-foreground\">Loading...</p>\n                          )}\n                        </CardContent>\n                      </Card>\n                    </div>\n\n                    {/* Probability Distribution with Visual Bars */}\n                    <div>\n                      <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\n                        <Activity className=\"h-4 w-4\" />\n                        Full Probability Distribution\n                      </h4>\n                      <div className=\"grid md:grid-cols-3 gap-2\">\n                        {Object.entries(selectedWafer.fullProbabilityDistribution)\n                          .sort(([, a], [, b]) => b - a)\n                          .map(([pattern, prob]) => (\n                            <div key={pattern} className={cn(\n                              \"flex items-center gap-2 p-2 rounded border\",\n                              pattern === selectedWafer.detectedPattern\n                                ? \"bg-primary/20 border-primary\"\n                                : \"bg-secondary/30 border-border\"\n                            )}>\n                              <span className=\"text-sm font-mono w-24\">{pattern}</span>\n                              <div className=\"flex-1 bg-secondary rounded-full h-3\">\n                                <div\n                                  className={cn(\n                                    \"h-3 rounded-full transition-all\",\n                                    pattern === selectedWafer.detectedPattern ? \"bg-primary\" :\n                                      prob > 10 ? \"bg-yellow-500/50\" : \"bg-muted-foreground/30\"\n                                  )}\n                                  style={{ width: `${Math.min(prob, 100)}%` }}\n                                />\n                              </div>\n                              <span className={cn(\n                                \"text-xs font-mono w-16 text-right font-bold\",\n                                pattern === selectedWafer.detectedPattern && \"text-primary\"\n                              )}>\n                                {prob.toFixed(2)}%\n                              </span>\n                            </div>\n                          ))}\n                      </div>\n                    </div>\n\n                    {/* Agent Results Grid */}\n                    <div>\n                      <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\n                        <Cpu className=\"h-4 w-4\" />\n                        Agent Analysis Details\n                      </h4>\n                      <div className=\"grid md:grid-cols-3 gap-4\">\n                        {selectedWafer.agentResults.map((agent, idx) => (\n                          <div key={idx} className=\"p-4 bg-secondary/30 rounded-lg border border-border\">\n                            <div className=\"flex items-center gap-2 mb-3\">\n                              {agent.icon}\n                              <div>\n                                <p className=\"font-semibold text-sm\">{agent.name}</p>\n                                <p className=\"text-xs text-muted-foreground\">{agent.model}</p>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center gap-2 mb-2\">\n                              <Badge className={cn(\n                                agent.confidence >= 80 ? \"bg-green-500/20 text-green-400\" :\n                                  agent.confidence >= 60 ? \"bg-yellow-500/20 text-yellow-400\" :\n                                    \"bg-red-500/20 text-red-400\"\n                              )}>\n                                {agent.topPattern} - {agent.confidence.toFixed(1)}%\n                              </Badge>\n                            </div>\n                            <p className=\"text-sm mb-3 text-muted-foreground\">{agent.description}</p>\n                            {agent.qualityFlag && (\n                              <p className=\"text-xs bg-yellow-500/20 text-yellow-400 p-2 rounded mb-2\">{agent.qualityFlag}</p>\n                            )}\n                            {agent.rootCauses.length > 0 && (\n                              <div className=\"mt-2\">\n                                <p className=\"text-xs font-semibold mb-1\">🔍 Root Causes:</p>\n                                <ul className=\"text-xs space-y-1\">\n                                  {agent.rootCauses.map((cause, i) => (\n                                    <li key={i} className=\"text-yellow-400\">• {cause}</li>\n                                  ))}\n                                </ul>\n                              </div>\n                            )}\n                            {agent.actionSuggestions.length > 0 && (\n                              <div className=\"mt-2\">\n                                <p className=\"text-xs font-semibold mb-1\">🛠️ Actions:</p>\n                                <ul className=\"text-xs space-y-1\">\n                                  {agent.actionSuggestions.map((action, i) => (\n                                    <li key={i} className=\"text-green-400\">• {action}</li>\n                                  ))}\n                                </ul>\n                              </div>\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Full Explanation */}\n                    {selectedWafer.explanation && (\n                      <div className=\"p-4 bg-gradient-to-r from-secondary/50 to-secondary/20 rounded-lg border border-border\">\n                        <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\n                          <FileText className=\"h-4 w-4\" />\n                          Detailed Explanation Report\n                        </h4>\n                        <pre className=\"text-sm text-muted-foreground whitespace-pre-wrap font-mono bg-background/50 p-4 rounded\">\n                          {selectedWafer.explanation}\n                        </pre>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n            )}\n          </>\n        )}\n        {/* Lot Analysis */}\n        {showLotAnalysis && lotAnalysis && (\n          <>\n            <h3 className=\"text-2xl font-bold mb-4\">Lot-Level Analysis</h3>\n\n            {/* Statistics Overview */}\n            <div className=\"grid md:grid-cols-4 gap-4 mb-6\">\n              <Card>\n                <CardContent className=\"pt-6\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <Package className=\"h-8 w-8 text-primary\" />\n                    <span className=\"text-3xl font-bold\">{lotAnalysis.totalWafers}</span>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground\">Total Wafers</p>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardContent className=\"pt-6\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <AlertTriangle className=\"h-8 w-8 text-red-400\" />\n                    <span className=\"text-3xl font-bold text-red-400\">{lotAnalysis.defectiveWafers}</span>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground\">Defective Wafers</p>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardContent className=\"pt-6\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <TrendingUp className=\"h-8 w-8 text-green-400\" />\n                    <span className=\"text-3xl font-bold text-green-400\">{lotAnalysis.yieldRate.toFixed(1)}%</span>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground\">Yield Rate</p>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardContent className=\"pt-6\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <CheckCircle2 className=\"h-8 w-8 text-green-400\" />\n                    <span className=\"text-3xl font-bold text-green-400\">\n                      {lotAnalysis.totalWafers - lotAnalysis.defectiveWafers}\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground\">Pass Count</p>\n                </CardContent>\n              </Card>\n            </div>\n\n            <div className=\"grid lg:grid-cols-2 gap-6\">\n              {/* Pareto Chart */}\n              <Card>\n                <CardHeader>\n                  <CardTitle>Defect Pattern Distribution</CardTitle>\n                  <CardDescription>\n                    Lot {lotAnalysis.lotId} - {lotAnalysis.totalWafers} wafers\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-3\">\n                    {lotAnalysis.defectDistribution\n                      .sort((a, b) => b.count - a.count)\n                      .map((defect, idx) => {\n                        const percentage = (defect.count / lotAnalysis.totalWafers) * 100\n                        return (\n                          <div key={idx}>\n                            <div className=\"flex justify-between text-sm mb-1\">\n                              <span className={cn(\"font-semibold\", getPatternColor(defect.name))}>{defect.name}</span>\n                              <span className=\"font-mono text-muted-foreground\">\n                                {defect.count} wafers ({percentage.toFixed(0)}%)\n                              </span>\n                            </div>\n                            <Progress value={percentage} className=\"h-2.5\" />\n                          </div>\n                        )\n                      })}\n                  </div>\n\n                  <div className=\"mt-6 pt-4 border-t border-border\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-1\">Estimated Yield</p>\n                        <p className=\"text-2xl font-bold text-chart-4\">{lotAnalysis.yieldRate.toFixed(1)}%</p>\n                      </div>\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-1\">Good Die Rate</p>\n                        <p className=\"text-2xl font-bold text-chart-4\">~82%</p>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Trend Summary */}\n              <Card>\n                <CardHeader>\n                  <CardTitle>Systematic Issue Detection</CardTitle>\n                  <CardDescription>Trend analysis & recommendations</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  {lotAnalysis.systematicIssues.length > 0 && (\n                    <div className=\"mb-4 p-3 bg-destructive/10 border border-destructive/30 rounded-lg flex items-start gap-3\">\n                      <AlertTriangle className=\"h-5 w-5 text-destructive mt-0.5 flex-shrink-0\" />\n                      <div>\n                        <p className=\"text-sm font-semibold text-destructive mb-1\">Systematic Issue Detected</p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          Multiple wafers in this lot share the same defect pattern, indicating a systemic problem.\n                        </p>\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"p-4 bg-secondary/50 rounded-lg\">\n                    <p className=\"text-sm font-semibold mb-2\">Priority Actions</p>\n                    <ul className=\"space-y-2\">\n                      {lotAnalysis.recommendations.map((rec, idx) => (\n                        <li key={idx} className=\"text-sm text-foreground flex gap-2\">\n                          <span className=\"text-accent font-bold\">{idx + 1}.</span>\n                          <span>{rec.action}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </>\n        )}\n\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}