{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":["file:///C:/Coding/Hackathon/wafer_detection_agent/frontend/components/wafer-detection-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Progress } from \"@/components/ui/progress\"\nimport {\n  Upload,\n  CheckCircle2,\n  Activity,\n  FileText,\n  Cpu,\n  Brain,\n  TrendingUp,\n  AlertTriangle,\n  Package,\n  ChevronLeft,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\ntype DefectPattern = \"Center\" | \"Donut\" | \"Edge-Loc\" | \"Edge-Ring\" | \"Loc\" | \"Random\" | \"Scratch\" | \"Near-full\" | \"None\"\n\ninterface PatternProbability {\n  pattern: DefectPattern\n  probability: number\n}\n\ninterface AgentResult {\n  name: string\n  model: string\n  topPattern: DefectPattern\n  topProbabilities: PatternProbability[]\n  confidence: number\n  qualityFlag: string | null\n  description: string\n  rootCauses: string[]\n  actionSuggestions: string[]\n  icon: React.ReactNode\n  heatmapUrl?: string\n}\n\n// Updated LotAnalysis interface\ninterface LotAnalysis {\n  lotId: string\n  totalWafers: number\n  defectiveWafers: number\n  yieldRate: number\n  defectDistribution: Array<{\n    name: DefectPattern\n    count: number\n    severity: \"Low\" | \"Medium\" | \"High\"\n  }>\n  systematicIssues: Array<{\n    pattern: string\n    frequency: number\n    trend: string\n    rootCause: string\n  }>\n  recommendations: Array<{\n    priority: \"Critical\" | \"High\" | \"Medium\"\n    action: string\n    estimatedImpact: string\n  }>\n}\n\n// Detailed interfaces for agent data\ninterface IngestionDetails {\n  waferMapShape: number[]\n  tensorShape: number[]\n  nonWaferCount: number\n  normalCount: number\n  defectCount: number\n}\n\ninterface AnalysisDetails {\n  consistencyScore: number\n  issuesFound: string[]\n  recommendation: string\n  majorIssues: Array<{ class: string; probability: number }>\n}\n\ninterface ValidationDetails {\n  attempts: number\n  maxAttempts: number\n  criteriaChecks: Array<{ name: string; passed: boolean }>\n  passed: boolean\n}\n\ninterface TriggerAction {\n  alertSent: boolean\n  recipient: string\n  subject: string\n  severity: string\n  actions: string[]\n}\n\n// New interface for individual wafer analysis\ninterface WaferAnalysis {\n  waferId: string\n  image: string\n  fileName: string\n  detectedPattern: DefectPattern\n  agentResults: AgentResult[]\n  finalVerdict: \"PASS\" | \"FAIL\"\n  confidence: number\n  fullProbabilityDistribution: Record<string, number>\n  explanation: string\n  severity: string\n  // Detailed agent data\n  ingestionDetails?: IngestionDetails\n  analysisDetails?: AnalysisDetails\n  validationDetails?: ValidationDetails\n  triggerAction?: TriggerAction\n  modelUsed?: string\n  deviceUsed?: string\n}\n\n// Default AgentResult interface with properties for ProbabilityResult and Probability\ntype ProbabilityResult = {\n  pattern: DefectPattern\n  probability: number\n}\n\nexport function WaferDetectionDashboard() {\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false)\n  const [uploadedImages, setUploadedImages] = useState<Array<{ id: string; url: string; file?: File; fileName: string }>>([])\n  const [currentWaferId, setCurrentWaferId] = useState<string | null>(null)\n  const [isAnalyzing, setIsAnalyzing] = useState(false)\n  const [waferAnalyses, setWaferAnalyses] = useState<WaferAnalysis[]>([])\n  const [showLotAnalysis, setShowLotAnalysis] = useState(false)\n  const [analysisComplete, setAnalysisComplete] = useState(false)\n  const [fullProbDist, setFullProbDist] = useState<Record<string, number>>({})\n  const [explanation, setExplanation] = useState<string>(\"\")\n\n  // New state for defect grouping and individual view\n  const [selectedDefectFilter, setSelectedDefectFilter] = useState<DefectPattern | \"all\">(\"all\")\n  const [selectedWafer, setSelectedWafer] = useState<WaferAnalysis | null>(null)\n  const [viewMode, setViewMode] = useState<\"summary\" | \"grouped\" | \"individual\">(\"summary\")\n\n  const [agentResults, setAgentResults] = useState<AgentResult[]>([\n    {\n      name: \"CNN Classifier\",\n      model: \"k_cross_CNN (Pattern Detection)\",\n      topPattern: \"None\",\n      topProbabilities: [],\n      confidence: 0,\n      qualityFlag: null,\n      description: \"Awaiting wafer map upload to begin analysis...\",\n      rootCauses: [],\n      actionSuggestions: [],\n      icon: <Cpu className=\"h-5 w-5\" />,\n    },\n    {\n      name: \"Analysis Agent\",\n      model: \"Statistical Analysis Module\",\n      topPattern: \"None\",\n      topProbabilities: [],\n      confidence: 0,\n      qualityFlag: null,\n      description: \"Awaiting wafer map upload to begin analysis...\",\n      rootCauses: [],\n      actionSuggestions: [],\n      icon: <Brain className=\"h-5 w-5\" />,\n    },\n    {\n      name: \"Validation Agent\",\n      model: \"Quality Assurance Module\",\n      topPattern: \"None\",\n      topProbabilities: [],\n      confidence: 0,\n      qualityFlag: null,\n      description: \"Awaiting wafer map upload to begin analysis...\",\n      rootCauses: [],\n      actionSuggestions: [],\n      icon: <FileText className=\"h-5 w-5\" />,\n    },\n  ])\n\n  const [lotAnalysis, setLotAnalysis] = useState<LotAnalysis | null>(null)\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files\n    if (files && files.length > 0) {\n      const newImages: Array<{ id: string; url: string; file?: File; fileName: string }> = []\n\n      Array.from(files).forEach((file, index) => {\n        const reader = new FileReader()\n        reader.onloadend = () => {\n          const waferId = `W-${Math.floor(Math.random() * 10000)}-X${index + 1}`\n          newImages.push({\n            id: waferId,\n            url: reader.result as string,\n            file: file,\n            fileName: file.name,\n          })\n\n          if (newImages.length === files.length) {\n            setUploadedImages((prev) => [...prev, ...newImages])\n            setCurrentWaferId(newImages[0].id)\n          }\n        }\n        reader.readAsDataURL(file)\n      })\n    }\n  }\n\n  // Generate a mock AgentResult\n  const generateAgentResult = (pattern: string, agentIndex: number): AgentResult => {\n    const patterns = [\"None\", \"Edge-Ring\", \"Center\", \"Edge-Loc\", \"Scratch\", \"Random\", \"Donut\", \"Near-full\"]\n    const topProbs: ProbabilityResult[] = patterns\n      .slice(0, 3)\n      .map((p, i) => ({\n        pattern:\n          i === 0\n            ? (pattern as DefectPattern)\n            : (patterns[Math.floor(Math.random() * patterns.length)] as DefectPattern),\n        probability: i === 0 ? Math.random() * 0.3 + 0.65 : Math.random() * 0.25,\n      }))\n      .sort((a, b) => b.probability - a.probability)\n\n    const confidence = topProbs[0].probability * 100\n    const qualityFlag = confidence < 75 ? \"Review Required - Ambiguous\" : null\n\n    const agentNames = [\"ViT Model\", \"Gemini Pro Vision\", \"ChatGPT Vision\"]\n    const models = [\"Custom Vision Transformer\", \"Visual Analysis (GPT-4)\", \"Multimodal Analysis (GPT-4o)\"]\n    const icons = [\n      <Cpu className=\"h-5 w-5\" key={0} />,\n      <Brain className=\"h-5 w-5\" key={1} />,\n      <FileText className=\"h-5 w-5\" key={2} />,\n    ]\n\n    return {\n      name: agentNames[agentIndex],\n      model: models[agentIndex],\n      topPattern: pattern as DefectPattern,\n      topProbabilities: topProbs,\n      confidence,\n      qualityFlag,\n      description:\n        pattern === \"None\"\n          ? \"No significant defect patterns detected. All quality metrics within specification.\"\n          : `Detected ${pattern} defect pattern with ${confidence.toFixed(1)}% confidence.`,\n      rootCauses:\n        pattern !== \"None\" ? [\"Process drift in deposition phase\", \"Contamination from handling equipment\"] : [],\n      actionSuggestions:\n        pattern !== \"None\"\n          ? [\"Immediate lot hold recommended\", \"Escalate to process engineering team\"]\n          : [\"Continue production monitoring\", \"Standard quality gate passage\"],\n      icon: icons[agentIndex],\n    }\n  }\n\n  const runBatchAnalysis = async () => {\n    if (uploadedImages.length === 0) return\n\n    setIsAnalyzing(true)\n    setViewMode(\"summary\")\n    setSelectedWafer(null)\n    const analyses: WaferAnalysis[] = []\n\n    for (const wafer of uploadedImages) {\n      try {\n        // Call real API\n        const formData = new FormData()\n        if (wafer.file) {\n          formData.append('file', wafer.file)\n        }\n\n        const response = await fetch('http://localhost:8000/api/analyze', {\n          method: 'POST',\n          body: formData,\n        })\n\n        if (!response.ok) {\n          throw new Error('API request failed')\n        }\n\n        const data = await response.json()\n\n        // Map API response to AgentResult format with icons\n        const agentResultsWithIcons = data.agentResults.map((agent: AgentResult, idx: number) => ({\n          ...agent,\n          icon: idx === 0 ? <Cpu className=\"h-5 w-5\" key={idx} />\n            : idx === 1 ? <Brain className=\"h-5 w-5\" key={idx} />\n              : <FileText className=\"h-5 w-5\" key={idx} />\n        }))\n\n        // Get detected pattern from first agent result\n        const detectedPattern = data.agentResults[0]?.topPattern || \"None\"\n\n        analyses.push({\n          waferId: data.waferId,\n          image: wafer.url,\n          fileName: data.fileName || wafer.fileName,\n          detectedPattern: detectedPattern as DefectPattern,\n          agentResults: agentResultsWithIcons,\n          finalVerdict: data.finalVerdict as \"PASS\" | \"FAIL\",\n          confidence: data.confidence,\n          fullProbabilityDistribution: data.fullProbabilityDistribution,\n          explanation: data.explanation,\n          severity: data.severity,\n          ingestionDetails: data.ingestionDetails,\n          analysisDetails: data.analysisDetails,\n          validationDetails: data.validationDetails,\n          triggerAction: data.triggerAction,\n          modelUsed: data.modelUsed,\n          deviceUsed: data.deviceUsed,\n        })\n      } catch (error) {\n        console.error('Analysis failed:', error)\n        analyses.push({\n          waferId: wafer.id,\n          image: wafer.url,\n          fileName: wafer.fileName,\n          detectedPattern: \"None\" as DefectPattern,\n          agentResults: [],\n          finalVerdict: \"FAIL\" as const,\n          confidence: 0,\n          fullProbabilityDistribution: {},\n          explanation: \"Analysis failed - please try again\",\n          severity: \"None\",\n        })\n      }\n    }\n\n    setWaferAnalyses(analyses)\n    setIsAnalyzing(false)\n    setShowLotAnalysis(true)\n\n    // Generate lot-level statistics\n    generateLotAnalysis(analyses)\n  }\n\n  const generateLotAnalysis = (analyses: WaferAnalysis[]) => {\n    // Aggregate real defect patterns from actual analyses\n    const patternCounts = new Map<string, number>()\n    analyses.forEach(wafer => {\n      const pattern = wafer.detectedPattern\n      patternCounts.set(pattern, (patternCounts.get(pattern) || 0) + 1)\n    })\n\n    // Convert to defect distribution format\n    const defectDistribution = Array.from(patternCounts.entries())\n      .filter(([name]) => name !== \"None\" && name !== \"none\")\n      .map(([name, count]) => ({\n        name: name as DefectPattern,\n        count,\n        severity: (count > 3 ? \"High\" : count > 1 ? \"Medium\" : \"Low\") as \"High\" | \"Medium\" | \"Low\"\n      }))\n      .sort((a, b) => b.count - a.count)\n\n    const totalDefects = analyses.filter((a) => a.finalVerdict === \"FAIL\").length\n    const passCount = analyses.filter((a) => a.finalVerdict === \"PASS\").length\n\n    // Get top defect patterns for recommendations\n    const topDefects = defectDistribution.slice(0, 2)\n\n    setLotAnalysis({\n      lotId: `LOT-${Math.floor(Math.random() * 1000) + 1}`,\n      totalWafers: analyses.length,\n      defectiveWafers: totalDefects,\n      yieldRate: analyses.length > 0 ? (passCount / analyses.length) * 100 : 0,\n      defectDistribution,\n      systematicIssues: topDefects.map(d => ({\n        pattern: `${d.name} defects detected`,\n        frequency: d.count,\n        trend: d.count > 2 ? \"Increasing\" : \"Stable\",\n        rootCause: `Potential ${d.name.toLowerCase()} pattern issue in processing`,\n      })),\n      recommendations: topDefects.length > 0 ? topDefects.map((d, i) => ({\n        priority: (i === 0 ? \"Critical\" : \"High\") as \"Critical\" | \"High\" | \"Medium\",\n        action: `Investigate ${d.name} defect source - ${d.count} occurrences`,\n        estimatedImpact: `+${Math.min(d.count * 2, 10)}% yield improvement`,\n      })) : [{\n        priority: \"Medium\" as const,\n        action: \"Continue standard monitoring\",\n        estimatedImpact: \"Maintain current yield\",\n      }],\n    })\n  }\n\n  const runAnalysis = async () => {\n    if (uploadedImages.length === 0) return\n    // This function is now superseded by runBatchAnalysis for multiple wafers.\n    // It can be kept for single-file upload scenarios if needed, but for now, we'll focus on batch.\n    setIsAnalyzing(true)\n    setAnalysisComplete(false) // Assuming this state might be needed elsewhere or for consistency.\n\n    const mockResults: AgentResult[] = [\n      {\n        name: \"ViT Model\",\n        model: \"Custom Vision Transformer\",\n        topPattern: \"Edge-Ring\",\n        topProbabilities: [\n          { pattern: \"Edge-Ring\", probability: 92.3 },\n          { pattern: \"Edge-Loc\", probability: 5.2 },\n          { pattern: \"Random\", probability: 2.1 },\n        ],\n        confidence: 92.3,\n        qualityFlag: null,\n        description:\n          \"Predicted pattern: Edge-Ring (92.3% confidence). This usually indicates issues in edge bead removal, spin coating, or edge-related process non-uniformity.\",\n        rootCauses: [\n          \"Edge bead removal (EBR) process deviation\",\n          \"Spin coating non-uniformity at wafer periphery\",\n          \"Chamber edge heating inconsistency\",\n        ],\n        actionSuggestions: [\n          \"Check EBR tool calibration and nozzle positioning\",\n          \"Verify spin coating recipe parameters\",\n          \"Inspect edge exclusion zone settings\",\n        ],\n        icon: <Cpu className=\"h-5 w-5\" />,\n        heatmapUrl: \"/wafer-edge-ring-defect-heatmap.jpg\",\n      },\n      {\n        name: \"Gemini Pro Vision\",\n        model: \"Visual Analysis (GPT-4)\",\n        topPattern: \"Edge-Ring\",\n        topProbabilities: [\n          { pattern: \"Edge-Ring\", probability: 88.7 },\n          { pattern: \"Edge-Loc\", probability: 7.8 },\n          { pattern: \"None\", probability: 2.5 },\n        ],\n        confidence: 88.7,\n        qualityFlag: null,\n        description:\n          \"Predicted pattern: Edge-Ring (88.7% confidence). Visual analysis confirms peripheral defect concentration consistent with edge-related processing issues.\",\n        rootCauses: [\"Photoresist edge accumulation\", \"Plasma etching edge effects\", \"Wafer handling edge damage\"],\n        actionSuggestions: [\n          \"Review photoresist dispense and edge coverage\",\n          \"Analyze plasma uniformity across wafer\",\n          \"Inspect robotic handler edge contact points\",\n        ],\n        icon: <Brain className=\"h-5 w-5\" />,\n      },\n      {\n        name: \"ChatGPT Vision\",\n        model: \"Multimodal Analysis (GPT-4o)\",\n        topPattern: \"Center\",\n        topProbabilities: [\n          { pattern: \"Center\", probability: 78.4 },\n          { pattern: \"Edge-Ring\", probability: 15.2 },\n          { pattern: \"Random\", probability: 4.1 },\n        ],\n        confidence: 78.4,\n        qualityFlag: \"‚ö†Ô∏è Mixed pattern detected - confidence spread across multiple classes\",\n        description:\n          \"Predicted pattern: Center (78.4% confidence). However, significant secondary probability for Edge-Ring suggests possible mixed defect types or transitional pattern.\",\n        rootCauses: [\n          \"Focus or exposure center bias\",\n          \"Chuck temperature center gradient\",\n          \"Gas flow distribution center concentration\",\n        ],\n        actionSuggestions: [\n          \"Verify stepper focus calibration\",\n          \"Check chuck thermal uniformity\",\n          \"Analyze process gas flow patterns\",\n        ],\n        icon: <FileText className=\"h-5 w-5\" />,\n      },\n    ]\n\n    const mockLotAnalysis: LotAnalysis = {\n      lotId: \"LOT-2024-A127\",\n      totalWafers: 25,\n      defectiveWafers: 10,\n      yieldRate: 76.0,\n      defectDistribution: [\n        { name: \"Edge-Ring\", count: 10, severity: \"High\" },\n        { name: \"Center\", count: 4, severity: \"Medium\" },\n        { name: \"Random\", count: 3, severity: \"Low\" },\n        { name: \"Edge-Loc\", count: 2, severity: \"Medium\" },\n        { name: \"None\", count: 6, severity: \"Low\" },\n      ],\n      systematicIssues: [\n        {\n          pattern: \"Edge-Ring clustering in Lot 2394\",\n          frequency: 12,\n          trend: \"Increasing\",\n          rootCause: \"Possible edge bead removal (EBR) process drift\",\n        },\n        {\n          pattern: \"Center defects on East chamber\",\n          frequency: 8,\n          trend: \"Stable\",\n          rootCause: \"Wafer chuck temperature uniformity issue\",\n        },\n      ],\n      recommendations: [\n        {\n          priority: \"Critical\",\n          action: \"Recalibrate EBR module - Edge defects increasing\",\n          estimatedImpact: \"+8% yield improvement\",\n        },\n        {\n          priority: \"High\",\n          action: \"PM check on East chamber chuck heater\",\n          estimatedImpact: \"+3% yield improvement\",\n        },\n        {\n          priority: \"Medium\",\n          action: \"Review photoresist coating parameters\",\n          estimatedImpact: \"+2% defect reduction\",\n        },\n      ],\n    }\n\n    // Simulate staggered analysis completion\n    for (let i = 0; i < mockResults.length; i++) {\n      await new Promise((resolve) => setTimeout(resolve, 1200 + Math.random() * 800))\n      setAgentResults((prev) => {\n        const newResults = [...prev]\n        newResults[i] = mockResults[i]\n        return newResults\n      })\n    }\n\n    setLotAnalysis(mockLotAnalysis)\n    setIsAnalyzing(false)\n    setAnalysisComplete(true)\n  }\n\n  const getFinalVerdict = () => {\n    if (!analysisComplete) return null\n\n    const patternCounts = new Map<DefectPattern, number>()\n    agentResults.forEach((agent) => {\n      const count = patternCounts.get(agent.topPattern) || 0\n      patternCounts.set(agent.topPattern, count + 1)\n    })\n\n    let maxCount = 0\n    let consensusPattern: DefectPattern = \"None\"\n    patternCounts.forEach((count, pattern) => {\n      if (count > maxCount) {\n        maxCount = count\n        consensusPattern = pattern\n      }\n    })\n\n    const avgConfidence = agentResults.reduce((sum, a) => sum + a.confidence, 0) / agentResults.length\n    const hasDefect = consensusPattern !== \"None\"\n\n    return {\n      pattern: consensusPattern,\n      confidence: avgConfidence,\n      hasDefect,\n      riskLevel: hasDefect && avgConfidence > 85 ? \"High\" : hasDefect ? \"Medium\" : \"Low\",\n    }\n  }\n\n  const verdict = getFinalVerdict()\n  const getPatternColor = (pattern: DefectPattern) => {\n    const colors: Record<DefectPattern, string> = {\n      Center: \"text-chart-2\",\n      Donut: \"text-chart-3\",\n      \"Edge-Loc\": \"text-destructive\",\n      \"Edge-Ring\": \"text-accent\",\n      Loc: \"text-chart-5\",\n      Random: \"text-muted-foreground\",\n      Scratch: \"text-chart-1\",\n      \"Near-full\": \"text-destructive\",\n      None: \"text-chart-4\",\n    }\n    return colors[pattern] || \"text-foreground\"\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-background\">\n      {/* Sidebar */}\n      <aside\n        className={cn(\n          \"fixed left-0 top-0 h-screen border-r border-border bg-sidebar transition-all duration-300 z-10\",\n          sidebarCollapsed ? \"w-16\" : \"w-64\",\n        )}\n      >\n        <div className=\"flex flex-col h-full p-6\">\n          <div className=\"mb-8\">\n            <div className={cn(\"flex items-center mb-2\", sidebarCollapsed ? \"justify-center\" : \"gap-3\")}>\n              <div className=\"h-10 w-10 rounded-lg bg-primary flex items-center justify-center shrink-0\">\n                <Activity className=\"h-6 w-6 text-primary-foreground\" />\n              </div>\n              {!sidebarCollapsed && (\n                <div>\n                  <h1 className=\"text-lg font-bold text-sidebar-foreground\">WaferDetect</h1>\n                  <p className=\"text-xs text-sidebar-foreground/60\">v24.1 Enterprise</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <nav className=\"space-y-2\">\n            <Button\n              variant=\"secondary\"\n              className={cn(\"w-full\", sidebarCollapsed ? \"justify-center px-0\" : \"justify-start\")}\n            >\n              <Activity className={cn(\"h-4 w-4\", !sidebarCollapsed && \"mr-2\")} />\n              {!sidebarCollapsed && \"Dashboard\"}\n            </Button>\n            <Button\n              variant=\"ghost\"\n              className={cn(\n                \"w-full text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent\",\n                sidebarCollapsed ? \"justify-center px-0\" : \"justify-start\",\n              )}\n            >\n              <FileText className={cn(\"h-4 w-4\", !sidebarCollapsed && \"mr-2\")} />\n              {!sidebarCollapsed && \"Scan History\"}\n            </Button>\n            <Button\n              variant=\"ghost\"\n              className={cn(\n                \"w-full text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent\",\n                sidebarCollapsed ? \"justify-center px-0\" : \"justify-start\",\n              )}\n            >\n              <Cpu className={cn(\"h-4 w-4\", !sidebarCollapsed && \"mr-2\")} />\n              {!sidebarCollapsed && \"Model Config\"}\n            </Button>\n          </nav>\n\n          <div className=\"mt-auto pt-8\">\n            {!sidebarCollapsed && (\n              <>\n                <div className=\"flex items-center gap-2 text-sm\">\n                  <div className=\"h-2 w-2 rounded-full bg-chart-4 animate-pulse\" />\n                  <span className=\"text-sidebar-foreground/80\">System Operational</span>\n                </div>\n                <p className=\"text-xs text-sidebar-foreground/60 mt-1\">All agents online</p>\n              </>\n            )}\n            {sidebarCollapsed && (\n              <div className=\"flex justify-center\">\n                <div className=\"h-2 w-2 rounded-full bg-chart-4 animate-pulse\" />\n              </div>\n            )}\n          </div>\n        </div>\n\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"absolute -right-3 top-6 h-6 w-6 rounded-full border border-border bg-background shadow-sm hover:bg-accent\"\n          onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n        >\n          <ChevronLeft className={cn(\"h-4 w-4 transition-transform duration-300\", sidebarCollapsed && \"rotate-180\")} />\n        </Button>\n      </aside>\n\n      {/* Main Content */}\n      <main\n        className={cn(\"flex-1 p-8 overflow-auto transition-all duration-300\", sidebarCollapsed ? \"ml-16\" : \"ml-64\")}\n      >\n        {/* Hero Section */}\n        <div className=\"mb-8 rounded-xl bg-gradient-to-r from-card to-secondary p-8 border border-border\">\n          <Badge className=\"mb-4 bg-primary/20 text-primary border-primary/30\">\n            <Activity className=\"mr-1 h-3 w-3\" />\n            LIVE MONITORING\n          </Badge>\n          <h2 className=\"text-4xl font-bold mb-2 text-balance\">Fault Detection Dashboard</h2>\n          <p className=\"text-muted-foreground text-lg\">\n            Real-time analysis of silicon wafer integrity using multi-agent AI consensus.\n          </p>\n        </div>\n\n        {/* Data Ingestion */}\n        <Card className=\"mb-8\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center justify-between\">\n              <span>Data Ingestion</span>\n              <span className=\"text-sm font-normal text-muted-foreground\">Supported formats: NPY (wafer maps)</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid lg:grid-cols-2 gap-6\">\n              {/* Upload Area */}\n              <div className=\"flex flex-col gap-4\">\n                <div className=\"relative\">\n                  <input\n                    type=\"file\"\n                    accept=\".npy\"\n                    multiple\n                    onChange={handleFileUpload}\n                    className=\"hidden\"\n                    id=\"file-upload\"\n                  />\n                  <label htmlFor=\"file-upload\">\n                    <div className=\"cursor-pointer border-2 border-dashed border-border rounded-lg p-8 hover:border-primary transition-colors flex flex-col items-center justify-center min-h-[300px] bg-secondary/30\">\n                      {uploadedImages.length > 0 ? (\n                        <div className=\"w-full\">\n                          <div className=\"grid grid-cols-3 gap-2 mb-4\">\n                            {uploadedImages.slice(0, 6).map((wafer) => (\n                              <div key={wafer.id} className=\"relative group\">\n                                <img\n                                  src={wafer.url || \"/placeholder.svg\"}\n                                  alt={wafer.id}\n                                  className=\"rounded-lg w-full h-24 object-cover border-2 border-border group-hover:border-primary transition-colors\"\n                                />\n                                <div className=\"absolute bottom-1 left-1 bg-card/90 backdrop-blur px-2 py-0.5 rounded text-[10px] font-mono\">\n                                  {wafer.id}\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                          {uploadedImages.length > 6 && (\n                            <p className=\"text-center text-sm text-muted-foreground\">\n                              +{uploadedImages.length - 6} more wafers\n                            </p>\n                          )}\n                        </div>\n                      ) : (\n                        <>\n                          <Upload className=\"h-12 w-12 text-muted-foreground mb-4\" />\n                          <p className=\"text-sm text-center text-muted-foreground\">\n                            Drop wafer scans here or click to browse\n                          </p>\n                          <p className=\"text-xs text-center text-muted-foreground mt-2\">\n                            Select multiple files for batch analysis\n                          </p>\n                        </>\n                      )}\n                    </div>\n                  </label>\n                </div>\n              </div>\n\n              {/* Upload Info */}\n              <div className=\"flex flex-col gap-4\">\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-2\">Upload Wafer Maps</h3>\n                  <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                    Drag & drop wafer maps (.npy files) here to begin analysis with our CNN model pipeline.\n                  </p>\n                </div>\n\n                <div className=\"flex gap-3\">\n                  <Button\n                    onClick={runBatchAnalysis}\n                    disabled={uploadedImages.length === 0 || isAnalyzing}\n                    className=\"bg-accent text-accent-foreground hover:bg-accent/90\"\n                  >\n                    <Activity className=\"mr-2 h-4 w-4\" />\n                    {isAnalyzing\n                      ? \"Analyzing...\"\n                      : `Analyze ${uploadedImages.length} Wafer${uploadedImages.length !== 1 ? \"s\" : \"\"}`}\n                  </Button>\n                  <Button variant=\"outline\" asChild>\n                    <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                      <Upload className=\"mr-2 h-4 w-4\" />\n                      Add More Files\n                    </label>\n                  </Button>\n                </div>\n\n                {uploadedImages.length > 0 && (\n                  <div className=\"mt-4 p-4 bg-secondary/50 rounded-lg border border-border\">\n                    <p className=\"text-xs text-muted-foreground mb-2\">Batch Details</p>\n                    <div className=\"space-y-1 text-sm\">\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Total Wafers:</span>\n                        <span className=\"font-mono\">{uploadedImages.length}</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Format:</span>\n                        <span className=\"font-mono\">PNG</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Status:</span>\n                        <span className={cn(isAnalyzing && \"animate-pulse\")}>\n                          {isAnalyzing ? \"Processing...\" : waferAnalyses.length > 0 ? \"Complete\" : \"Ready\"}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {waferAnalyses.length > 0 && (\n          <>\n            {/* View Mode Selector */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-2xl font-bold\">Analysis Results</h3>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant={viewMode === \"summary\" ? \"default\" : \"outline\"}\n                  onClick={() => { setViewMode(\"summary\"); setSelectedWafer(null); }}\n                  size=\"sm\"\n                >\n                  Summary\n                </Button>\n                <Button\n                  variant={viewMode === \"grouped\" ? \"default\" : \"outline\"}\n                  onClick={() => { setViewMode(\"grouped\"); setSelectedWafer(null); }}\n                  size=\"sm\"\n                >\n                  By Defect Type\n                </Button>\n              </div>\n            </div>\n\n            {/* Summary View */}\n            {viewMode === \"summary\" && !selectedWafer && (\n              <div className=\"grid md:grid-cols-4 gap-4 mb-8\">\n                <Card className=\"cursor-pointer hover:border-primary transition-colors\" onClick={() => setViewMode(\"grouped\")}>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <Package className=\"h-8 w-8 text-primary\" />\n                      <span className=\"text-3xl font-bold\">{waferAnalyses.length}</span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">Total Wafers</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <CheckCircle2 className=\"h-8 w-8 text-green-400\" />\n                      <span className=\"text-3xl font-bold text-green-400\">\n                        {waferAnalyses.filter(w => w.finalVerdict === \"PASS\").length}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">Passed</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <AlertTriangle className=\"h-8 w-8 text-red-400\" />\n                      <span className=\"text-3xl font-bold text-red-400\">\n                        {waferAnalyses.filter(w => w.finalVerdict === \"FAIL\").length}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">Defective</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <TrendingUp className=\"h-8 w-8 text-accent\" />\n                      <span className=\"text-3xl font-bold\">\n                        {((waferAnalyses.filter(w => w.finalVerdict === \"PASS\").length / waferAnalyses.length) * 100).toFixed(1)}%\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">Yield Rate</p>\n                  </CardContent>\n                </Card>\n              </div>\n            )}\n\n            {/* Grouped by Defect Type View */}\n            {viewMode === \"grouped\" && !selectedWafer && (\n              <div className=\"space-y-6 mb-8\">\n                {/* Defect Type Filter Buttons */}\n                <div className=\"flex flex-wrap gap-2 mb-4\">\n                  <Button\n                    variant={selectedDefectFilter === \"all\" ? \"default\" : \"outline\"}\n                    onClick={() => setSelectedDefectFilter(\"all\")}\n                    size=\"sm\"\n                  >\n                    All ({waferAnalyses.length})\n                  </Button>\n                  {Array.from(new Set(waferAnalyses.map(w => w.detectedPattern))).map(pattern => (\n                    <Button\n                      key={pattern}\n                      variant={selectedDefectFilter === pattern ? \"default\" : \"outline\"}\n                      onClick={() => setSelectedDefectFilter(pattern)}\n                      size=\"sm\"\n                      className={cn(\n                        pattern === \"None\" ? \"border-green-500/50\" : \"border-red-500/50\"\n                      )}\n                    >\n                      {pattern} ({waferAnalyses.filter(w => w.detectedPattern === pattern).length})\n                    </Button>\n                  ))}\n                </div>\n\n                {/* Wafer Grid */}\n                <div className=\"grid md:grid-cols-4 lg:grid-cols-6 gap-4\">\n                  {waferAnalyses\n                    .filter(w => selectedDefectFilter === \"all\" || w.detectedPattern === selectedDefectFilter)\n                    .map(wafer => (\n                      <Card\n                        key={wafer.waferId}\n                        className=\"cursor-pointer hover:border-primary transition-colors\"\n                        onClick={() => { setSelectedWafer(wafer); setViewMode(\"individual\"); }}\n                      >\n                        <CardContent className=\"pt-4\">\n                          <div className=\"text-center\">\n                            <div className=\"w-16 h-16 mx-auto mb-2 rounded-full bg-secondary flex items-center justify-center\">\n                              <span className=\"text-2xl\">üíø</span>\n                            </div>\n                            <p className=\"font-mono text-xs mb-1\">{wafer.fileName}</p>\n                            <Badge\n                              className={cn(\n                                wafer.finalVerdict === \"PASS\"\n                                  ? \"bg-green-500/20 text-green-400\"\n                                  : \"bg-red-500/20 text-red-400\"\n                              )}\n                            >\n                              {wafer.detectedPattern}\n                            </Badge>\n                            <p className=\"text-xs text-muted-foreground mt-1\">\n                              {wafer.confidence.toFixed(1)}% conf\n                            </p>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                </div>\n              </div>\n            )}\n\n            {/* Individual Wafer View */}\n            {selectedWafer && (\n              <div className=\"space-y-6 mb-8\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => { setSelectedWafer(null); setViewMode(\"grouped\"); }}\n                  className=\"mb-4\"\n                >\n                  <ChevronLeft className=\"mr-2 h-4 w-4\" />\n                  Back to All Wafers\n                </Button>\n\n                <Card className=\"border-2\">\n                  <CardHeader>\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <CardTitle className=\"text-2xl font-mono\">{selectedWafer.fileName}</CardTitle>\n                        <CardDescription>ID: {selectedWafer.waferId} | Model: {selectedWafer.modelUsed || \"k_cross_CNN.pt\"} | Device: {selectedWafer.deviceUsed || \"cpu\"}</CardDescription>\n                      </div>\n                      <div className=\"flex items-center gap-4\">\n                        <Badge className={cn(\n                          selectedWafer.severity === \"High\" ? \"bg-red-500/20 text-red-400\" :\n                            selectedWafer.severity === \"Medium\" ? \"bg-yellow-500/20 text-yellow-400\" :\n                              \"bg-green-500/20 text-green-400\"\n                        )}>\n                          {selectedWafer.severity} Severity\n                        </Badge>\n                        <div\n                          className={cn(\n                            \"px-6 py-3 rounded-lg font-bold text-lg\",\n                            selectedWafer.finalVerdict === \"PASS\"\n                              ? \"bg-green-500/20 text-green-400 border-2 border-green-500/50\"\n                              : \"bg-red-500/20 text-red-400 border-2 border-red-500/50\"\n                          )}\n                        >\n                          {selectedWafer.finalVerdict}\n                        </div>\n                      </div>\n                    </div>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n\n                    {/* Pipeline Steps Overview */}\n                    <div className=\"grid md:grid-cols-4 gap-4\">\n                      {/* Ingestion Card */}\n                      <Card className=\"bg-secondary/20\">\n                        <CardHeader className=\"pb-2\">\n                          <CardTitle className=\"text-sm flex items-center gap-2\">\n                            <Upload className=\"h-4 w-4\" />\n                            Ingestion Agent\n                          </CardTitle>\n                        </CardHeader>\n                        <CardContent className=\"text-xs space-y-1\">\n                          {selectedWafer.ingestionDetails ? (\n                            <>\n                              <p>üìê Shape: {selectedWafer.ingestionDetails.waferMapShape?.join('√ó')}</p>\n                              <p>üìä Tensor: {selectedWafer.ingestionDetails.tensorShape?.join('√ó')}</p>\n                              <p className=\"text-muted-foreground\">Non-wafer: {selectedWafer.ingestionDetails.nonWaferCount}</p>\n                              <p className=\"text-green-400\">Normal: {selectedWafer.ingestionDetails.normalCount}</p>\n                              <p className=\"text-red-400\">Defect: {selectedWafer.ingestionDetails.defectCount}</p>\n                            </>\n                          ) : (\n                            <p className=\"text-muted-foreground\">Loading...</p>\n                          )}\n                        </CardContent>\n                      </Card>\n\n                      {/* Analysis Card */}\n                      <Card className=\"bg-secondary/20\">\n                        <CardHeader className=\"pb-2\">\n                          <CardTitle className=\"text-sm flex items-center gap-2\">\n                            <Brain className=\"h-4 w-4\" />\n                            Analysis Agent\n                          </CardTitle>\n                        </CardHeader>\n                        <CardContent className=\"text-xs space-y-1\">\n                          {selectedWafer.analysisDetails ? (\n                            <>\n                              <p>üéØ Consistency: {(selectedWafer.analysisDetails.consistencyScore * 100).toFixed(0)}%</p>\n                              <p className={selectedWafer.analysisDetails.recommendation === \"PASS\" ? \"text-green-400\" : \"text-yellow-400\"}>\n                                üìã {selectedWafer.analysisDetails.recommendation}\n                              </p>\n                              <p className=\"text-muted-foreground\">\n                                Issues: {selectedWafer.analysisDetails.issuesFound?.length || 0}\n                              </p>\n                            </>\n                          ) : (\n                            <p className=\"text-muted-foreground\">Loading...</p>\n                          )}\n                        </CardContent>\n                      </Card>\n\n                      {/* Validation Card */}\n                      <Card className=\"bg-secondary/20\">\n                        <CardHeader className=\"pb-2\">\n                          <CardTitle className=\"text-sm flex items-center gap-2\">\n                            <CheckCircle2 className=\"h-4 w-4\" />\n                            Validation Agent\n                          </CardTitle>\n                        </CardHeader>\n                        <CardContent className=\"text-xs space-y-1\">\n                          {selectedWafer.validationDetails ? (\n                            <>\n                              <p className={selectedWafer.validationDetails.passed ? \"text-green-400\" : \"text-red-400\"}>\n                                {selectedWafer.validationDetails.passed ? \"‚úÖ PASSED\" : \"‚ùå FAILED\"}\n                              </p>\n                              <p>Attempt: {selectedWafer.validationDetails.attempts}/{selectedWafer.validationDetails.maxAttempts}</p>\n                              {selectedWafer.validationDetails.criteriaChecks?.map((check, i) => (\n                                <p key={i} className={check.passed ? \"text-green-400\" : \"text-red-400\"}>\n                                  {check.passed ? \"‚úì\" : \"‚úó\"} {check.name}\n                                </p>\n                              ))}\n                            </>\n                          ) : (\n                            <p className=\"text-muted-foreground\">Loading...</p>\n                          )}\n                        </CardContent>\n                      </Card>\n\n                      {/* Trigger Card */}\n                      <Card className=\"bg-secondary/20\">\n                        <CardHeader className=\"pb-2\">\n                          <CardTitle className=\"text-sm flex items-center gap-2\">\n                            <AlertTriangle className=\"h-4 w-4\" />\n                            Trigger Agent\n                          </CardTitle>\n                        </CardHeader>\n                        <CardContent className=\"text-xs space-y-1\">\n                          {selectedWafer.triggerAction ? (\n                            <>\n                              <p className={selectedWafer.triggerAction.alertSent ? \"text-red-400\" : \"text-green-400\"}>\n                                {selectedWafer.triggerAction.alertSent ? \"üö® ALERT SENT\" : \"‚úÖ No Alert\"}\n                              </p>\n                              {selectedWafer.triggerAction.alertSent && (\n                                <>\n                                  <p className=\"text-muted-foreground truncate\" title={selectedWafer.triggerAction.recipient}>\n                                    üìß {selectedWafer.triggerAction.recipient}\n                                  </p>\n                                  {selectedWafer.triggerAction.actions?.slice(0, 2).map((action, i) => (\n                                    <p key={i} className=\"text-yellow-400\">‚ñ∫ {action}</p>\n                                  ))}\n                                </>\n                              )}\n                            </>\n                          ) : (\n                            <p className=\"text-muted-foreground\">Loading...</p>\n                          )}\n                        </CardContent>\n                      </Card>\n                    </div>\n\n                    {/* Probability Distribution with Visual Bars */}\n                    <div>\n                      <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\n                        <Activity className=\"h-4 w-4\" />\n                        Full Probability Distribution\n                      </h4>\n                      <div className=\"grid md:grid-cols-3 gap-2\">\n                        {Object.entries(selectedWafer.fullProbabilityDistribution)\n                          .sort(([, a], [, b]) => b - a)\n                          .map(([pattern, prob]) => (\n                            <div key={pattern} className={cn(\n                              \"flex items-center gap-2 p-2 rounded border\",\n                              pattern === selectedWafer.detectedPattern\n                                ? \"bg-primary/20 border-primary\"\n                                : \"bg-secondary/30 border-border\"\n                            )}>\n                              <span className=\"text-sm font-mono w-24\">{pattern}</span>\n                              <div className=\"flex-1 bg-secondary rounded-full h-3\">\n                                <div\n                                  className={cn(\n                                    \"h-3 rounded-full transition-all\",\n                                    pattern === selectedWafer.detectedPattern ? \"bg-primary\" :\n                                      prob > 10 ? \"bg-yellow-500/50\" : \"bg-muted-foreground/30\"\n                                  )}\n                                  style={{ width: `${Math.min(prob, 100)}%` }}\n                                />\n                              </div>\n                              <span className={cn(\n                                \"text-xs font-mono w-16 text-right font-bold\",\n                                pattern === selectedWafer.detectedPattern && \"text-primary\"\n                              )}>\n                                {prob.toFixed(2)}%\n                              </span>\n                            </div>\n                          ))}\n                      </div>\n                    </div>\n\n                    {/* Agent Results Grid */}\n                    <div>\n                      <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\n                        <Cpu className=\"h-4 w-4\" />\n                        Agent Analysis Details\n                      </h4>\n                      <div className=\"grid md:grid-cols-3 gap-4\">\n                        {selectedWafer.agentResults.map((agent, idx) => (\n                          <div key={idx} className=\"p-4 bg-secondary/30 rounded-lg border border-border\">\n                            <div className=\"flex items-center gap-2 mb-3\">\n                              {agent.icon}\n                              <div>\n                                <p className=\"font-semibold text-sm\">{agent.name}</p>\n                                <p className=\"text-xs text-muted-foreground\">{agent.model}</p>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center gap-2 mb-2\">\n                              <Badge className={cn(\n                                agent.confidence >= 80 ? \"bg-green-500/20 text-green-400\" :\n                                  agent.confidence >= 60 ? \"bg-yellow-500/20 text-yellow-400\" :\n                                    \"bg-red-500/20 text-red-400\"\n                              )}>\n                                {agent.topPattern} - {agent.confidence.toFixed(1)}%\n                              </Badge>\n                            </div>\n                            <p className=\"text-sm mb-3 text-muted-foreground\">{agent.description}</p>\n                            {agent.qualityFlag && (\n                              <p className=\"text-xs bg-yellow-500/20 text-yellow-400 p-2 rounded mb-2\">{agent.qualityFlag}</p>\n                            )}\n                            {agent.rootCauses.length > 0 && (\n                              <div className=\"mt-2\">\n                                <p className=\"text-xs font-semibold mb-1\">üîç Root Causes:</p>\n                                <ul className=\"text-xs space-y-1\">\n                                  {agent.rootCauses.map((cause, i) => (\n                                    <li key={i} className=\"text-yellow-400\">‚Ä¢ {cause}</li>\n                                  ))}\n                                </ul>\n                              </div>\n                            )}\n                            {agent.actionSuggestions.length > 0 && (\n                              <div className=\"mt-2\">\n                                <p className=\"text-xs font-semibold mb-1\">üõ†Ô∏è Actions:</p>\n                                <ul className=\"text-xs space-y-1\">\n                                  {agent.actionSuggestions.map((action, i) => (\n                                    <li key={i} className=\"text-green-400\">‚Ä¢ {action}</li>\n                                  ))}\n                                </ul>\n                              </div>\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Full Explanation */}\n                    {selectedWafer.explanation && (\n                      <div className=\"p-4 bg-gradient-to-r from-secondary/50 to-secondary/20 rounded-lg border border-border\">\n                        <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\n                          <FileText className=\"h-4 w-4\" />\n                          Detailed Explanation Report\n                        </h4>\n                        <pre className=\"text-sm text-muted-foreground whitespace-pre-wrap font-mono bg-background/50 p-4 rounded\">\n                          {selectedWafer.explanation}\n                        </pre>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n            )}\n          </>\n        )}\n\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}